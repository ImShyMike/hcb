<% file_path = Rails.application.routes.url_helpers.rails_blob_path(receipt.file, only_path: true) %>
<div style="max-width: 256px;" class="flex flex-column mb1">
  <%= link_to file_path, class: "link-reset mb1", target: "_blank" do %>
    <span class="muted">
      <strong>
        <%= receipt.file.blob.filename %>
      </strong>
      (<%= number_to_human_size receipt.file.blob.byte_size %>)
    </span>
  <% end %>
  <%= link_to file_path, target: "_blank" do %>
    <%= image_tag receipt.preview, width: 256, height: 256, class: "card p0", style: "object-fit: contain; width: auto; height: auto; max-width: 100%; max-height: 256px;" if receipt.preview %>
  <% end %>
  <footer class="flex items-center flex-row">
  <%= relative_timestamp receipt.created_at, prefix: "added ", class: "h5 muted" %>
  <span style="flex-grow: 1;"></span>
  <%= pop_icon_to "view-close",
      { controller: :receipts, action: :destroy, id: receipt.id },
      method: :delete,
      size: 24,
      class: "error tooltipped tooltipped--w",
      'aria-label': "Delete this receipt" %>
  </footer>
</div>
