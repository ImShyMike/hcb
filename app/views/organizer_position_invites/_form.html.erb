<%= form_with(model: invite, local: true, url: event_organizer_position_invites_path) do |form| %>
  <%= form_errors invite, "user" %>

  <div class="field" x-data="{ email: '' }">
    <%= form.label :email, class: "mb1" %>

    <div class="flex items-center">
      <%= form.email_field :email, class: "mr1", "x-model": "email", placeholder: "fiona@hackclub.com" %>
    </div>
    <template x-if="/(team|webmaster|marketing|admin|info|about|support|sales|hq|hello)/.test(email)">
      <div class="warning mt1">‚ö†Ô∏è For security, we discourage team emails on HCB. We recommend individual emails such as <em>ben@hackclub.com</em>!</div>
    </template>
  </div>

  <% if Flipper.enabled?(:user_permissions_2024_03_09, @event || invite.event) %>
    <%= form.label :role, class: "mb1" %>
    <div class="field field--options">
      <% OrganizerPositionInvite.roles.keys.map do |role| %>
        <%= form.radio_button :role, role %>
        <%= form.label :role, value: role do %>
          <strong><%= role.titleize %></strong>
        <% end %>
      <% end %>
    </div>

      <p class="muted mb1">
        Someone invited as a <span class="bold info">manager</span> can do everything in the organization.
      </p>

      <div class="muted mb1">
        <p class="m0">Someone invited as a <span class="bold info">member</span> can</p>
        <ul class="m0">
          <li>Create cards</li>
          <li>Spend money</li>
          <li>Not change the organization's settings</li>
        </ul>
      </div>
    </div>
  <% end %>

  <% admin_tool("mb2 flex g1") do %>
    <div class="field field--select w-100">
      <%= form.select :is_signee,
          [
            ["üìÉ Contract Signee", "true"],
            ["‚ùå Hasn't Signed The Contract", "false"],
          ],
          { include_blank: "Select a contract signee status" },
          { required: true, style: "width: 100%" } %>
    </div>
  <% end %>

  <%= form.submit "Submit" %>
<% end %>
