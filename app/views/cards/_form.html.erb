<%= form_with(model: card, local: true) do |form| %>
  <p>For <strong>#<%= card.event.id %> <%= card.event.name %></strong></p>

  <%= form_errors card %>

  <% if @card_request %>
    <%= form.hidden_field :card_request_id, value: @card_request.id %>
  <% end %>

  <div class="field">
    <%= form.label :user_id, 'User' %>
    <%= form.collection_select(:user_id, User.reorder(:email), :id, :email, prompt: 'Select user…') %>
  </div>

  <% admin_tools do %>
    <p>Copy-pastable user email: <pre><%= card.user.email %></pre></p>
  <% end %>

  <div class="field">
    <%= form.label :event_id, 'Event' %>
    <%= form.collection_select(:event_id, Event.all, :id, :name, prompt: 'Select event…') %>
  </div>

  <div class="field">
    <%= form.label :emburse_id, 'Emburse ID' %>
    <%= form.text_field :emburse_id %>
  </div>

  <div class="field">
    <%= form.label :last_four, 'Last four digits of card number' %>
    <%= form.number_field :last_four %>
  </div>

  <div class="field">
    <%= form.label :full_name, 'Full name on card' %>
    <%= form.text_field :full_name %>
  </div>

  <div class="field">
    <%= form.label :address, 'Shipping/billing address' %>
    <%= form.text_area :address %>
  </div>

  <div class="field">
    <%= form.label :expiration_month, 'Expiration month (MM)' %>
    <%= form.number_field :expiration_month %>
  </div>

  <div class="field">
    <%= form.label :expiration_year, 'Expiration year (YYYY)' %>
    <%= form.number_field :expiration_year %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
