<% if stripe_cards.blank? %>
  <%= blankslate "You don't have any #{status} cards yet." %>
<% else %>
  <article class="table-container">
    <table>
      <thead>
      <tr>
        <th>Type</th>
        <th>Shipping</th>
        <th>Status</th>
        <th>Date</th>
        <th>Name</th>
        <th>Number</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <% stripe_cards.each do |d| %>
        <tr>
          <td>
            <%= d.virtual? ? "VIRTUAL" : "PHYSICAL" %>
          </td>
          <td>
            <%= "-" if d.virtual? %>
            <%= d.remote_shipping_status.upcase if d.physical? %>
          </td>
          <td>
            <span class="ml0 badge bg-<%= d.state %>"><%= d.state_text %></span>
          </td>
          <td>
            <%= format_date d.created_at %>
          </td>
          <td>
            <%= d.user.name || d.stripe_name || d.user.full_name if organizer_signed_in? %>
            <%= "(redacted)" unless organizer_signed_in? %>
          </td>
          <td class="fs-mask">
            <%= d.hidden_card_number_with_last_four if d.user == current_user %>
            <%= d.hidden_card_number if d.user != current_user %>
          </td>
          <td>
            <%= link_to "Details", stripe_card_path(d) if organizer_signed_in? && !@event.demo_mode %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </article>
<% end %>
