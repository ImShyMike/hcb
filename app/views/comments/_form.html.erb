<%= form_with model: [@commentable, @comment] do |form| %>
  <% if @comment.errors.any? %>
  <p>There are errors</p>
    <div id="error_explanation">
      <h2><%= pluralize(@comment.errors.size, "error") %> prohibited this note from being saved:</h2>

      <ul>
      <% @comment.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="comment__name mt2">
    <%= user_mention current_user %>
    <%= link_to 'https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#table-of-contents', class: 'muted flex items-center justify-end h6', target: '_blank' do %>
      <%= inline_icon 'markdown-fill', size: 32 %> Styling with Markdown is supported
    <% end %>
  </div>
  <%= form.text_area :content, class: 'card mb2 overflow-visible', placeholder: 'Add a noteâ€¦', 'data-behavior': 'autosize' %>

  <div class="field">
    <%= form.file_field :file %>
  </div>

  <% admin_tools('pb0 mb2') do %>
    <div class="field field--checkbox">
      <%= form.check_box :admin_only, {}, true, false %>
      <%= form.label :admin_only, 'Only visible to admins' %>
    </div>
  <% end %>

  <%= form.submit 'Add note' %>
<% end %>
