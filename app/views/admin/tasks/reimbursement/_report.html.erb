<%# locals: (task:) -%>

<% report = task %>

<summary class="task__header">
    <%= inline_icon "attachment", size: 24, class: "task__icon" %>
    <h3>
        <strong>Reimbursement</strong>
        from
        <strong><%= tooltipped_text(report.event.name, :e, render_event(report.event)) %></strong>
        to
        <strong><%= tooltipped_text(report.user.name, :e, render_user(report.user)) %></strong>
        for
        <strong><%= render_money(report.amount) %></strong>
    </h3>
    <div class="flex-grow"></div>
    <%= inline_icon "down-caret", size: 24, class: "task__icon task__icon--caret" %>
</summary>

<div class="task__body">
    <h4 class="font-normal flex flex-row items-center m-0 p-0"><%= task.name %></h4>

    <div class="flex flex-row justify-space-between items-center gap-6 max-w-md">
        <div class="flex flex-col items-center w-full gap-1">
            Organization
            <%= render_event(report.event) %>
        </div>
    </div>

        



    <div class="h-9"></div>

    <div class="flex flex-row items-center gap-3">
    <h4 class="font-normal flex flex-row items-center m-0 p-0">Requested by <%= user_mention(task.user, { class: "mx-2", avatar: { class: "m-0" } }) %> on <%= task.created_at.strftime("%B %d") %></h4>
        <div class="flex-grow"></div>

        <button class="bg-snow border border-smoke black"><span>Open</span> <kbd>⇧</kbd><kbd>o</kbd></button>
        <button class="bg-snow border border-smoke black"><span>Reject</span> <kbd>⇧</kbd><kbd>r</kbd></button>
        <button class=""><span>Process</span> <kbd>⇧</kbd><kbd>p</kbd></button>
    </div>

</div>