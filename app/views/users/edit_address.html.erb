<% title "Account Settings" %>
<% page_md %>
<%= render "users/nav", selected: :settings %>
<h1>
  Settings
</h1>
<turbo-frame id="settings" target="_top">
  <%= render "settings_nav", active: "address" %>
  <section>
    <h2 id="address">Billing address</h2>

    <p class="h5 muted mt0 mb1">
      This will be linked to your cards and may be checked against by merchants.
      <br>
      By default this is our address.
    </p>

    <%= form_with model: @user do |form| %>
      <%= form.fields_for :stripe_cardholder, @user.stripe_cardholder do |form| %>
        <div class="field">
          <%= form.label :stripe_billing_address_line1, "Street address" %>
          <%= form.text_field :stripe_billing_address_line1, placeholder: "8605 Santa Monica Blvd #86294", required: true %>
        </div>

        <div class="field">
          <%= form.text_field :stripe_billing_address_line2 %>
        </div>

        <div class="flex">
          <div class="field flex-auto mr1">
            <%= form.label :stripe_billing_address_city, "City" %>
            <%= form.text_field :stripe_billing_address_city, placeholder: "West Hollywood", required: true %>
          </div>
          <div class="field flex-auto ml1">
            <%= form.label :address_state, "State" %>
            <%= form.select :stripe_billing_address_state, [
                  ["N/A", nil],
                  ["Alabama", "AL"],
                  ["Alaska", "AK"],
                  ["Arizona", "AZ"],
                  ["Arkansas", "AR"],
                  ["California", "CA"],
                  ["Colorado", "CO"],
                  ["Connecticut", "CT"],
                  ["Delaware", "DE"],
                  ["Washington, D.C.", "DC"],
                  ["Florida", "FL"],
                  ["Georgia", "GA"],
                  ["Hawaii", "HI"],
                  ["Idaho", "ID"],
                  ["Illinois", "IL"],
                  ["Indiana", "IN"],
                  ["Iowa", "IA"],
                  ["Kansas", "KS"],
                  ["Kentucky", "KY"],
                  ["Louisiana", "LA"],
                  ["Maine", "ME"],
                  ["Maryland", "MD"],
                  ["Massachusetts", "MA"],
                  ["Michigan", "MI"],
                  ["Minnesota", "MN"],
                  ["Mississippi", "MS"],
                  ["Missouri", "MO"],
                  ["Montana", "MT"],
                  ["Nebraska", "NE"],
                  ["Nevada", "NV"],
                  ["New Hampshire", "NH"],
                  ["New Jersey", "NJ"],
                  ["New Mexico", "NM"],
                  ["New York", "NY"],
                  ["North Carolina", "NC"],
                  ["North Dakota", "ND"],
                  ["Ohio", "OH"],
                  ["Oklahoma", "OK"],
                  ["Oregon", "OR"],
                  ["Pennsylvania", "PA"],
                  ["Rhode Island", "RI"],
                  ["South Carolina", "SC"],
                  ["South Dakota", "SD"],
                  ["Tennessee", "TN"],
                  ["Texas", "TX"],
                  ["Utah", "UT"],
                  ["Vermont", "VT"],
                  ["Virginia", "VA"],
                  ["Washington", "WA"],
                  ["West Virginia", "WV"],
                  ["Wisconsin", "WI"],
                  ["Wyoming", "WY"],
                ] %>
          </div>
        </div>

        <div class="field">
          <%= form.label :postal_code %>
          <%= form.text_field :stripe_billing_address_postal_code, placeholder: "90069", required: true %>
        </div>

        <div class="field">
          <%= form.label :country %>
          <%= form.country_select :stripe_billing_address_country, nil, { selected: "US" }, { required: true } %>
        </div>

        <div class="actions inline-block mt1">
          <%= form.submit "Save" %>
        </div>
      <% end %>
    <% end %>
  </section>
</turbo-frame>
