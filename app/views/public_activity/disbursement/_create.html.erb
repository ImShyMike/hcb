<% source = activity.trackable.source_event %>
<% destination = activity.trackable.destination_event %>

<% unless activity.trackable.rejected? %>
  <% if activity.trackable.card_grant.present? %>
    <%= render layout: "/public_activity/common", locals: { activity: } do %>
      created a <%= render_money activity.trackable.amount %> card grant on
      <%= link_to source.name, source %> for
      <span class="muted"><%= activity.trackable.card_grant.user&.name || activity.trackable.card_grant.email %></span>
    <% end %>
  <% else %>
    <%= render layout: "/public_activity/common", locals: { activity: } do %>
      transferred <%= render_money activity.trackable.amount %> from <%= link_to source.name, source %> to <%= link_to destination.name, destination %>
    <% end %>
  <% end %>
<% end %>
