<%
  @is_donation_page = defined?(donation_page);
  @is_admin = defined?(admin);
%>
<div data-controller="menu" data-menu-placement-value="<%= (@is_donation_page || @is_admin) ? "bottom-end" : "bottom-center" %>">
  <button
    data-action="menu#toggle click@document->menu#close keydown@document->menu#keydown"
    data-menu-target="toggle"
    class="muted <%= "bg-transparent border-0 p-0" if (@is_donation_page || @is_admin) %>"
    type="button"
    aria-label="Appearance"
    data-action="class#toggle focus#focus"
  >
    <%= inline_icon "moon", size: home_action_size, fill: "currentColor" %>
  </button>

  <div data-menu-target="content" class="menu__content menu__content--compact menu__content--2 min-w-32 w-32" data-controller="dark-mode-toggle">
    <a data-dark-mode-toggle-target="toggle" data-value="system">
      System
      <%= inline_icon "check", class: "hidden ml-auto", size: 24 %>
    </a>
    <a data-dark-mode-toggle-target="toggle" data-value="dark">
      Dark
      <%= inline_icon "check", class: "hidden ml-auto", size: 24 %>
    </a>
    <a data-dark-mode-toggle-target="toggle" data-value="light">
      Light
      <%= inline_icon "check", class: "hidden ml-auto", size: 24 %>
    </a>
  </div>
</div>